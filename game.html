<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gamehub - The universe of games</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Roboto:wght@300;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />

    <link rel="stylesheet" href="./styles/main.css" />
    <script src="./scripts/main.js" defer></script>
    <script src="./backend/db.js"></script>
  </head>
  <body id="single-game">
    <header class="site-header">
      <div class="site-header__container cwc">
        <div class="branding">
          <a href="/">
            <img
              class="logo"
              src="./assets/logo.png"
              alt="Go to Gamehub frontpage"
            />
          </a>
          <a class="sr-only sr-only-focusable" href="#main-content"
            >Skip to main content</a
          >
        </div>
        <button aria-label="Open Menu" class="hamburger" onclick="openMenu()">
          <i class="fas fa-bars" aria-hidden="true"></i>
          <span class="sr-only">Open menu</span>
        </button>
        <div id="mobile-menu" class="mobile-menu">
          <div class="header-top-row">
            <form
              role="search"
              class="search"
              action="/search.html"
              method="GET"
            >
              <input id="searchbox" type="search" name="q" role="searchbox" />
              <button
                aria-label="Submit Search"
                class="btn-search"
                type="submit"
              >
                <i class="fas fa-search fa-2l" aria-hidden="true"></i>
              </button>
            </form>
            <div class="utility-menu">
              <a
                href="/wishlist.html"
                class="utility-btn"
                aria-label="Go to my wishlist"
              >
                <span class="fa-stack fa-2x">
                  <i
                    class="fas fa-circle fa-stack-2x primary"
                    aria-hidden="true"
                  ></i>
                  <i
                    class="fas fa-list fa-stack-1x accent"
                    aria-hidden="true"
                  ></i>
                </span>
                Wishlist
              </a>
              <a
                id="login-btn"
                href="#"
                class="utility-btn"
                aria-label="Open log in modal"
                role="button"
              >
                <span class="fa-stack fa-2x">
                  <i
                    class="fas fa-circle fa-stack-2x primary"
                    aria-hidden="true"
                  ></i>
                  <i
                    class="fas fa-user fa-stack-1x accent"
                    aria-hidden="true"
                  ></i>
                </span>
                Log in
              </a>
              <a href="/basket.html" class="utility-btn">
                <span class="fa-stack fa-2x">
                  <i
                    class="fas fa-circle fa-stack-2x primary"
                    aria-hidden="true"
                  ></i>
                  <i
                    class="fas fa-shopping-basket fa-stack-1x accent"
                    aria-hidden="true"
                  ></i>
                </span>
                Basket
              </a>
            </div>
          </div>
          <nav class="main-nav">
            <ul>
              <li class="main-nav__item">
                <a href="/games.html" class="main-nav__link">Purchase Games</a>
              </li>
              <li class="main-nav__item">
                <a href="/sell-games.html" class="main-nav__link"
                  >Sell your Games</a
                >
              </li>
            </ul>
          </nav>
          <button
            aria-label="Close Menu"
            class="hamburger-close"
            onclick="closeMenu()"
          >
            <i class="far fa-times-circle" aria-hidden="true"></i
            ><span class="sr-only">Close Menu</span>
          </button>
        </div>
      </div>
    </header>
    <script>
      const gameID = parseInt(window.location.search.substring(1));
      if (gameID < 1) {
        window.location.replace("/games.html");
      }
      console.log(gameID);
      const gameIndex = PRODUCTS.findIndex((x) => x.id === gameID);
      console.log(gameIndex);
      const game = PRODUCTS[gameIndex];

      document.title = `${game.title} | Gamehub - The universe of games`;
    </script>
    <main id="main-content cwc">
      <script>
        document.write(`
         <div class="product-image">
           <img src="${game.image}" alt="${game.title} cover">
         </div>
          <div class="product-body">
            <h1>${game.title}</h1>
            <p>${game.desciption}</p>
          </div>                           
          <p class="price">${game.price} kr</p>
          <button class="btm primary">Add to cart</button>
          <p class="stock">${game.stock} in stock</p>
          <div class="game-info">
            <table>
              <tr>
                <th>Platform:</th>
                <td>
                  `);
        game.platform.map((platform) =>
          document.write(`<li>${platform} </li>`)
        );
        document.write(`
                  </td>
              </tr>
              <tr>
                <th>Multiplayer:</th>
                <td>${game.multiplayer}</td>
              </tr>
              <tr>
                <th>Aget Rating:</th>
                <td>${game.ageRating}</td>
              </tr>
              <tr>
                <th>Genre:</th>
                <td>
                  `);
        game.grene.map((gr) => document.write(`<li>${gr} </li>`));
        document.write(`
                  </td>
              </tr>
              <tr>
                <th>Tags:</th>
                <td>
        `);
        game.tags.map((tag) => document.write(`<li>${tag}</li>`));
        document.write(`
                  </td>
              </tr>
              <tr>
                <th>Relase date:</th>
                <td>${game.relaseDate}</td>
              </tr>
            </table>
          </div>
          `);
      </script>
    </main>
    <footer class="site-footer">
      <div class="cwc">
        <div class="footer-branding">
          <div class="footer-logo">
            <img src="./assets/footer-logo.png" alt="" />
          </div>
          <div class="some-links">
            <ul>
              <li class="some-link facebook fa-lg">
                <a href="http://facebook.com"
                  ><i class="fab fa-facebook-f" aria-hidden="true"></i
                  ><span class="sr-only">Facebook</span></a
                >
              </li>
              <li class="some-link instagram fa-lg">
                <a href="http://instagram.com"
                  ><i class="fab fa-instagram" aria-hidden="true"></i
                  ><span class="sr-only">Instagram</span></a
                >
              </li>
              <li class="some-link discord fa-lg">
                <a href="http://discord.com"
                  ><i class="fab fa-discord" aria-hidden="true"></i
                  ><span class="sr-only">Discord</span></a
                >
              </li>
            </ul>
          </div>
          <!-- end some-links -->
        </div>
        <!-- end footer-branding -->
        <nav class="footer-nav">
          <ul>
            <li class="footer-nav__item">
              <a href="/account.html" class="footer-nav__link">My Account</a>
            </li>
            <li class="footer-nav__item">
              <a href="/wishlist.html" class="footer-nav__link">My Wishlist</a>
            </li>
            <li class="footer-nav__item">
              <a href="/terms-and-conditions.html" class="footer-nav__link"
                >Terms and conditions</a
              >
            </li>
            <li class="footer-nav__item">
              <a href="/faq.html" class="footer-nav__link">FAQ</a>
            </li>
            <li class="footer-nav__item">
              <a href="/contact-us.html" class="footer-nav__link">Contact us</a>
            </li>
          </ul>
        </nav>
      </div>
    </footer>
  </body>
</html>
